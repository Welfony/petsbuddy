!function(t){function n(t){var n=t.text();return t.text(n.substring(0,n.length-3)+"..."),t}function e(t){var n;return t.css("white-space","nowrap"),n=t.height(),t.css("white-space","normal"),n}function i(t){var e=t.text(),i=n(t),a=i.height();return t.text(e),a}function a(t){t.css({"text-overflow":"ellipsis",overflow:"hidden","word-wrap":"break-word"})}function r(e){var a=e.height();if(e.attr("data-default-text",e.text()),1!==t.fn.textTruncator.options.nbOfLines){var r=t.fn.textTruncator.options.nbOfLinesHeight;if(a>r){for(;a>r&&e.text().length>0;){var s=e.text();e.text(s.substring(0,s.length-t.fn.textTruncator.options.cutRate)),a=i(e)}n(e)}}else e.css({"white-space":"nowrap"})}t.fn.textTruncator||(t.fn.textTruncator=function(n){if(!(this.length<=0)){for(var i=new Array,s=this.selector.split(","),o=s.length-1;o>=0;o--)i.push(t(s[o]));t.fn.textTruncator.defaultOptions={nbOfLines:1,cutRate:1},t.fn.textTruncator.options=t.extend(!0,{},t.fn.textTruncator.defaultOptions,n),t(i).each(function(n,i){1!==t.fn.textTruncator.options.nbOfLines&&(t.fn.textTruncator.options.nbOfLinesHeight=t.fn.textTruncator.options.nbOfLines*e(t(i[0]))),t(i).each(function(){a(t(this)),r(t(this))})}),"function"==typeof t.fn.textTruncator.options.callback&&t.fn.textTruncator.options.callback()}})}(jQuery),$(function(){$(".js-advanced-carousel").each(function(){function t(t){f=!0,o.fadeOut(function(){t.fadeIn(function(){o=t,f=!1})}),s.removeClass(c).filter(function(){return $(this).data("target-slide")===t.data("slide-name")}).addClass(c)}var n=$(this),e=n.find(".js-slides-list"),i=n.find(".js-slides-list").find(".js-slide"),a=n.find(".js-left-arrow"),r=n.find(".js-right-arrow"),s=n.find(".js-pagination-link"),o=e.find(".is-active"),c="is-active",f=!1;o||(o=i.first().addClass(c)),function(){s.click(function(){if(!f&&!$(this).hasClass(c)){var n=$(this).data("target-slide"),e=i.filter(function(){return $(this).data("slide-name")===n});e&&t(e)}}),a.click(function(){if(!f){var n=null;0===o.prev().length?o.next().length>0&&(n=i.last()):n=o.prev(),n&&t(n)}}),r.click(function(){if(!f){var n=null;0===o.next().length?o.prev().length>0&&(n=i.first()):n=o.next(),n&&t(n)}})}()})}),$(function(){var t=(window.REP.scrollMagicController,new TimelineMax,$(".js-navbar.is-original-navbar")),n=$(".js-scroll-to-carousel-trigger"),e=$(".js-advanced-carousel");t.addClass("is-homepage"),n.click(function(){var n=e.offset().top;$("html, body").animate({scrollTop:n-t.outerHeight()-80},500)}),$(".js-card-title").textTruncator({nbOfLines:3})});

$(function(){$(".js-accordion").each(function(){function e(e){var n=e.closest(".js-accordion-item");i.isScrollToItemOnOpenActivated&&t(n),"toggle"===i.displayMode?e.show().trigger("accordion-item-opened"):e.slideDown(i.slideDuration,function(){$(this).trigger("accordion-item-opened")}),n.addClass("is-opened")}function t(e){$("html, body").animate({scrollTop:e.offset().top-i.scrollOffset},i.scrollSpeed)}var i={},n=$(this);i.canHaveMultipleItemsOpened=void 0!==n.data("can-have-multiple-items-opened")&&n.data("can-have-multiple-items-opened"),i.displayMode=void 0!==n.data("open-item-animation")?n.data("open-item-animation"):"toggle",i.slideDuration=void 0!==n.data("slide-duration")?n.data("slide-duration"):500,i.isScrollToItemOnOpenActivated=void 0!==n.data("scroll-to-item-when-opened")&&n.data("scroll-to-item-when-opened"),i.scrollOffset=void 0!==n.data("scroll-offset")?n.data("scroll-offset"):0,i.scrollSpeed=void 0!==n.data("scroll-to-item-speed")?n.data("scroll-to-item-speed"):500,function(){n.find(".js-accordion-item-button").click(function(t){t.preventDefault(),t.stopPropagation();var a=$(this).closest(".js-accordion-item"),o=a.find(".js-accordion-item-content");if(a.hasClass("is-opened"))"toggle"===i.displayMode?o.hide():o.slideUp(i.slideDuration),a.removeClass("is-opened");else if(i.canHaveMultipleItemsOpened)e(o);else{var s=$(".js-accordion-item.is-opened",n);if(s.length>0){var d=s.find(".js-accordion-item-content");"toggle"===i.displayMode?(d.hide(),e(o)):d.slideUp(i.slideDuration,function(){e(o)}),s.removeClass("is-opened")}else e(o)}})}()})}),$(function(){$(".js-tabs").each(function(){var e=$(this),t=e.find(".js-tab-trigger"),i="is-active";!function(){t.click(function(n){if(!$(this).hasClass(i)){n.preventDefault(),n.stopPropagation();var a=$(this).data("tab-id"),o=$("#"+a);$(".js-tab-content."+i,e).add(t).removeClass(i),o.add($(this)).addClass(i)}})}()})}),$(function(){$(window).width()>767||$(".js-complex-table").each(function(){function e(){a.hide().removeClass("has-right-border"),n.each(function(e){var t=$(this).find(".js-dropdown-unit.is-selected").data("complex-table-col-id"),i=a.filter(function(){return $(this).data("complex-table-col-id")==t});i.show(),e!==n.length-1&&i.addClass("has-right-border")})}function t(){i.find(".js-separator").attr("colspan",n.length),i.find(".js-header-logo").attr("colspan",1)}var i=$(this),n=i.find(".js-header-mobile"),a=i.find(".js-cell"),o=i.find(".js-dropdown-units");!function(){t(),e()}(),function(){o.on("change",function(){e()})}()})}),$(function(){function e(){n.set(".js-top-image-container",{className:"+=animated"}),new ScrollMagic.Scene({triggerElement:".js-round-bordered-image",reverse:!1}).on("start",function(){n.set(".js-main-ingredient",{className:"+=animated fadeIn"},"+=0.2"),n.set(".js-round-bordered-image",{className:"+=animated fadeIn"},"+=0.1"),n.set(".js-big-circle",{className:"+=animated"},"+=0.2"),n.set(".js-small-circle",{className:"+=animated"}),n.set(".js-ingredients-table",{className:"+=animated"})}).addTo(i),new ScrollMagic.Scene({triggerElement:".js-vertical-infos",reverse:!1,offset:100}).on("start",function(){n.set(".js-vertical-infos",{className:"+=animated"}),n.add(function(){$(".js-vertical-infos-item").each(function(e){var t=$(this);setTimeout(function(){t.addClass("animated")},200*e)})},"+=0.2")}).addTo(i),new ScrollMagic.Scene({triggerElement:".js-section-midpage",reverse:!1,offset:200}).on("start",function(){n.add(function(){$(".js-midpage-panel").each(function(e){var t=$(this);setTimeout(function(){t.addClass("animated")},400*e)})},"+=0.2")}).addTo(i),new ScrollMagic.Scene({triggerElement:".js-section-midpage",reverse:!1,offset:200}).on("start",function(){$(".js-midpage-panel-with-bg-image").addClass("inview")}).addTo(i)}function t(e){var t=o.data("product-id"),i=o.data("src");s.src=i+t,s.onload=function(){"function"==typeof e&&e()}}var i=REP.scrollMagicController,n=new TimelineMax,a=$("#modal-testimonial"),o=a.find("iframe"),s=a.find("iframe")[0],d=$(".js-open-testimonial-iframe-btn");(/Edge\/\d./i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&$(".js-circle").addClass("no-animation"),$(".js-top-image").load(function(){setTimeout(function(){e()},600)}).each(function(){this.complete&&$(this).load()}),d.click(function(){t(function(){a.openModal()})}),function(){var e=$(".js-carousel"),t=e.find(".js-slide"),i=e.find(".js-carousel-arrow-left"),n=e.find(".js-carousel-arrow-right"),a=t.first();t.hide(),a.show(),i.click(function(){console.log("left arrow click"),t.length>1&&(a.hide(),a=a.prev(".js-slide").length>0?a.prev(".js-slide"):t.last(),a.show())}),n.click(function(){console.log("right arrow click"),t.length>1&&(a.hide(),a=a.next(".js-slide").length>0?a.next(".js-slide"):t.first(),a.show())})}()});